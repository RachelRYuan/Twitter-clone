{"ast":null,"code":"var _jsxFileName = \"/Users/ruiyuan/Desktop/twitter-clone/web/src/pages/Signup.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { gql, useMutation } from '@apollo/client';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIGNUP_MUTATION = gql`\nmutation signup($name: String, $email: String!, $password: String!){\n    signup(name: $name, email: $email, password: $password){\n        token\n    }\n} \n`;\nfunction Signup() {\n  _s();\n  const navigate = useNavigate();\n  const [signup, {\n    data\n  }] = useMutation(SIGNUP_MUTATION);\n  const initialValues = {\n    email: '',\n    password: '',\n    confirmPassword: '',\n    name: ''\n  };\n  const validationSchema = Yup.object({\n    email: Yup.string().email(\"Invalid email address\").required(\"Email Required\"),\n    password: Yup.string().max(20, \"Must be 20 characters or less\").required(\"Password Required\"),\n    confirmPassword: Yup.string().oneOf([Yup.ref(\"password\")], \"Passwords must match\"),\n    name: Yup.string().max(15, \"Must be 15 characters or less\").required(\"Name Required\")\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Signup \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: async (values, {\n        setSubmitting\n      }) => {\n        setSubmitting(true);\n        const response = await signup({\n          variables: values\n        });\n        localStorage.setItem(\"token\", response.data.signup.token);\n        setSubmitting(false);\n        navigate('/users');\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"email\",\n          component: \"div\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"name\",\n          type: \"text\",\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"name\",\n          component: \"div\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"password\",\n          type: \"text\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password\",\n          component: \"div\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"confirmPassword\",\n          type: \"text\",\n          placeholder: \"Comfirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"comfirmpassword\",\n          component: \"div\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \" Signup \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"I/Cs8BIb7WBcn5yrzaoZf0UWpaQ=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","gql","useMutation","ErrorMessage","Field","Form","Formik","Yup","useNavigate","jsxDEV","_jsxDEV","SIGNUP_MUTATION","Signup","_s","navigate","signup","data","initialValues","email","password","confirmPassword","name","validationSchema","object","string","required","max","oneOf","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","values","setSubmitting","response","variables","localStorage","setItem","token","type","placeholder","component","_c","$RefreshReg$"],"sources":["/Users/ruiyuan/Desktop/twitter-clone/web/src/pages/Signup.tsx"],"sourcesContent":["import React from 'react'\nimport { gql,useMutation } from '@apollo/client'\nimport { ErrorMessage, Field, Form, Formik } from 'formik'\nimport * as Yup from 'yup'\nimport { useNavigate} from 'react-router-dom'\nimport { isValidInputTimeValue } from '@testing-library/user-event/dist/utils'\n\nconst SIGNUP_MUTATION = gql`\nmutation signup($name: String, $email: String!, $password: String!){\n    signup(name: $name, email: $email, password: $password){\n        token\n    }\n} \n`\ninterface SignupValues{\n  email: string\n  password: string\n  confirmPassword: string\n  name: string\n}\n\n\nfunction Signup() {\n  const navigate = useNavigate()\n  const [signup, {data}] = useMutation(SIGNUP_MUTATION)\n\n  const initialValues: SignupValues = {\n    email: '',\n    password: '',\n    confirmPassword: '',\n    name: ''\n  }\n\nconst validationSchema = Yup.object({\n  email: Yup.string()\n    .email(\"Invalid email address\")\n    .required(\"Email Required\"),\n  password: Yup.string()\n    .max(20, \"Must be 20 characters or less\")\n    .required(\"Password Required\"),\n  confirmPassword: Yup.string().oneOf(\n      [ Yup.ref(\"password\") ], \n      \"Passwords must match\"\n    ),\n  name: Yup.string()\n    .max(15, \"Must be 15 characters or less\")\n    .required(\"Name Required\")\n})\n\n  return (\n    <div>\n      <h1> Signup </h1>\n      <Formik\n      initialValues = {initialValues}\n      validationSchema = {validationSchema}\n      onSubmit = {async(values, {setSubmitting}) =>{\n        setSubmitting(true)\n        const response = await signup({\n            variables: values\n        })\n        localStorage.setItem(\"token\", response.data.signup.token)\n        setSubmitting(false)\n        navigate('/users')\n      }}\n    >\n        <Form>\n          <Field name = \"email\" type = \"text\" placeholder = \"Email\"/>\n          <ErrorMessage name = \"email\" component = {\"div\"} />\n          <Field name = \"name\" type = \"text\" placeholder = \"Name\"/>\n          <ErrorMessage name = \"name\" component = {\"div\"} />\n          <Field name = \"password\" type = \"text\" placeholder = \"Password\"/>\n          <ErrorMessage name = \"password\" component = {\"div\"} />\n          <Field name = \"confirmPassword\" type = \"text\" placeholder = \"Comfirm Password\"/>\n          <ErrorMessage name = \"comfirmpassword\" component = {\"div\"} />\n          <button type = 'submit'> Signup </button>\n        </Form>\n\n    </Formik>\n    </div>\n  )\n}\n\nexport default Signup"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}